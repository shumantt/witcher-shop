(function(t){function e(e){for(var a,i,c=e[0],l=e[1],o=e[2],d=0,m=[];d<c.length;d++)i=c[d],n[i]&&m.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,o||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,c=1;c<s.length;c++){var l=s[c];0!==n[l]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var o=0;o<c.length;o++)e(c[o]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1c60":function(t,e,s){t.exports=s.p+"img/witcher-face.f5d755f3.jpg"},"345b":function(t,e,s){"use strict";var a=s("f24f"),n=s.n(a);n.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return s(e)}function r(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id="4678"},"54cb":function(t,e,s){"use strict";var a=s("589a"),n=s.n(a);n.a},"55d2":function(t,e,s){"use strict";var a=s("6564"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[s("md-app",[s("md-app-drawer",{attrs:{"md-permanent":"full"}},[s("md-toolbar",{staticClass:"md-large md-primary",attrs:{"md-elevation":"0"}},[s("div",[s("md-avatar",{staticClass:"md-avatar-icon md-large md-accent"},[s("img",{attrs:{src:t.img,alt:"Avatar"}})])],1),s("div",{staticClass:"user-name"},[t._v(t._s(t.userName))])]),s("router-view",{attrs:{name:"menu"}})],1),s("md-app-content",[s("router-view")],1)],1)],1)},c=[],l=(s("7f7f"),s("1c60")),o=s.n(l),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"resource-container"},[s("div",{staticClass:"text-search"},[s("div",{staticClass:"md-layout "},[s("div",{staticClass:"md-layout-item"},[s("md-field",[s("md-icon",[t._v("search")]),s("md-input",{model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)],1),s("div",{staticClass:"md-layout-item"},[s("md-button",{staticClass:"md-raised",on:{click:t.filterRecipes}},[t._v("Искать")])],1)])]),s("div",{staticClass:"search-options"},[s("div",{staticClass:"md-layout "},[s("div",{staticClass:"md-layout-item"},[s("md-checkbox",{staticClass:"md-primary",model:{value:t.includeSimple,callback:function(e){t.includeSimple=e},expression:"includeSimple"}},[t._v("Простые")])],1),s("div",{staticClass:"md-layout-item selector"},[s("md-field",[s("label",{attrs:{for:"category"}},[t._v("Категория")]),s("md-select",{attrs:{name:"category",id:"category"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},[s("md-option",{attrs:{value:""}},[t._v("Все")]),s("md-option",{attrs:{value:"Несмертельные"}},[t._v("Несмертельные")]),s("md-option",{attrs:{value:"Смертельные"}},[t._v("Смертельные")]),s("md-option",{attrs:{value:"Усиливающие"}},[t._v("Усиливающие")])],1)],1)],1)]),s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item"},[s("md-checkbox",{staticClass:"md-primary",model:{value:t.includeEnchanted,callback:function(e){t.includeEnchanted=e},expression:"includeEnchanted"}},[t._v("Зачарованные")])],1),s("div",{staticClass:"md-layout-item"},[s("md-checkbox",{staticClass:"md-primary",model:{value:t.includeEnoughResources,callback:function(e){t.includeEnoughResources=e},expression:"includeEnoughResources"}},[t._v("Достаточно ресурсов")])],1)])]),s("div",{staticClass:"table-container"},[s("md-table",{staticClass:"main-table",on:{"md-selected":t.onSelect},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var a=e.item;return s("md-table-row",{staticClass:"md-primary",attrs:{"md-selectable":"single"}},[s("md-table-cell",{attrs:{"md-label":"Ресурсы"}},[s("md-checkbox",{staticClass:"md-primary",attrs:{disabled:""},model:{value:a.enoughResources,callback:function(e){t.$set(a,"enoughResources",e)},expression:"item.enoughResources"}})],1),s("md-table-cell",{attrs:{"md-label":"Название"}},[t._v(t._s(a.name))]),s("md-table-cell",{attrs:{"md-label":"Категоря"}},[t._v(t._s(a.category))]),s("md-table-cell",{attrs:{"md-label":"Компоненты"}},[t._v(t._s(a.components))])],1)}}]),model:{value:t.filteredRecipes,callback:function(e){t.filteredRecipes=e},expression:"filteredRecipes"}})],1),t.selected?s("div",{staticClass:"selected-info"},[s("md-card",[s("md-card-header",[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v(t._s(t.selected.name))]),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.selected.category))])])],1),s("md-card-content",[t._v("\n                "+t._s(t.selected.components)+"\n            ")]),s("md-card-actions",[s("md-button",{staticClass:"md-raised"},[t._v("Подробнее")])],1)],1)],1):t._e()])},d=[],m=(s("6762"),s("2fdb"),{name:"Receipts",mounted:function(){this.fetchRecipes()},data:function(){return{category:null,searchText:null,includeSimple:!0,includeEnchanted:!0,includeEnoughResources:!0,selected:null,recipes:[],filteredRecipes:[]}},computed:{},methods:{onSelect:function(t){this.selected=t},filterRecipes:function(){var t=this,e=this.recipes.slice(0);this.category&&(e=e.filter(function(e){return e.category==t.category})),this.searchText&&(e=e.filter(function(e){return e.name.includes(t.searchText)})),this.filteredRecipes=e},fetchRecipes:function(){var t=this;this.$store.dispatch("fetchRecipes").then(function(e){t.recipes=e,t.filterRecipes()}).catch(function(t){return console.log(t)})}}}),f=m,h=(s("b16d"),s("2877")),p=Object(h["a"])(f,u,d,!1,null,"799885d4",null),b=p.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"consumption-form"},[s("div",{staticClass:"md-title"},[t._v("Расход ресурса")]),s("div",{staticClass:"category selection"},[s("div",{staticClass:"md-layout"},[t._m(0),s("div",{staticClass:"md-layout-item selector"},[s("md-field",[s("md-select",{attrs:{name:"category",id:"category","md-selected":t.categorySelected()},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},[s("md-option",{attrs:{value:"Травы"}},[t._v("Травы")]),s("md-option",{attrs:{value:"Животные",disabled:!0}},[t._v("Животные")]),s("md-option",{attrs:{value:"Руны",disabled:!0}},[t._v("Руны")])],1)],1)],1)])]),s("div",{staticClass:"name selection"},[s("div",{staticClass:"md-layout"},[t._m(1),s("div",{staticClass:"md-layout-item selector"},[s("md-autocomplete",{attrs:{"md-options":t.names,"md-selected":t.selectedName()},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])]),s("div",{staticClass:"quantity selection"},[s("div",{staticClass:"md-layout"},[t._m(2),s("div",{staticClass:"md-layout-item selector"},[s("md-field",[s("md-input",{attrs:{type:"number",min:0,max:t.max},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)],1)])]),s("div",{staticClass:"buttons-row"},[s("md-button",{staticClass:"md-raised left",attrs:{disabled:!t.actionEnabled},on:{click:function(e){return t.makeConsumption()}}},[t._v("Записать расход")]),s("md-button",{staticClass:"md-raised right",on:{click:function(e){return t.clear()}}},[t._v("Очистить")])],1),t.resultMessage?s("div",[t._v(t._s(t.resultMessage))]):t._e()])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item label"},[s("div",{staticClass:"md-subtitle"},[t._v("Категория")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item label"},[s("div",{staticClass:"md-subtitle"},[t._v("Наименование")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item label"},[s("div",{staticClass:"md-subtitle"},[t._v("Количество")])])}],_=(s("7514"),{name:"Consumption",data:function(){return{category:null,resultMessage:null,name:null,number:0,names:[],grass:[],max:0}},computed:{actionEnabled:function(){return null!=this.category&&null!=this.name&&""!=this.category&&""!=this.name}},methods:{clear:function(){this.category=null,this.name=null,this.number=0,this.resultMessage=null,this.names=[]},categorySelected:function(){var t=this;this.category&&this.$store.dispatch("fetchGrass").then(function(e){t.names=e.map(function(t){return t.name}),t.grass=e}).catch(function(t){return console.log(t)})},selectedName:function(){var t=this;if(this.name){var e=this.grass.find(function(e){return e.name==t.name});this.max=e.quantity}},makeConsumption:function(){var t=this;if(this.resultMessage=null,this.category&&this.name){var e=this.grass.find(function(e){return e.name==t.name});this.number<0||this.number>e.quantity?this.resultMessage="Неверное количество. Введите количестов от ".concat(0," до ",this.number):this.$store.dispatch("consumptGrass",{id:e.id,reduceBy:this.number}).then(function(){var e="Успешны записан расход. Категория: ".concat(t.category,". Наименование: ").concat(t.name,". Количество: ").concat(t.number,".");t.clear(),t.resultMessage=e}).catch(function(e){console.log(e),t.resultMessage="Ошибка"})}else this.resultMessage="Укажите категорию и наименование ресурса"}}}),j=_,y=(s("55d2"),Object(h["a"])(j,v,g,!1,null,null,null)),C=y.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"consumption-form"},[s("div",{staticClass:"md-title"},[t._v("Оформление заказа")]),s("div",{staticClass:"category selection"},[s("div",{staticClass:"md-layout"},[t._m(0),s("div",{staticClass:"md-layout-item selector"},[s("md-field",[s("md-select",{attrs:{name:"category",id:"category","md-selected":t.categorySelected()},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},[s("md-option",{attrs:{value:"Несмертельные"}},[t._v("Несмертельные")]),s("md-option",{attrs:{value:"Смертельные"}},[t._v("Смертельные")]),s("md-option",{attrs:{value:"Усиливающие"}},[t._v("Усиливающие")])],1)],1)],1)])]),s("div",{staticClass:"name selection"},[s("div",{staticClass:"md-layout"},[t._m(1),s("div",{staticClass:"md-layout-item selector"},[s("md-autocomplete",{attrs:{"md-options":t.names},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)])]),s("div",{staticClass:"quantity selection"},[s("div",{staticClass:"md-layout"},[t._m(2),s("div",{staticClass:"md-layout-item selector"},[s("md-field",[s("md-input",{attrs:{type:"number",min:"0",max:"10"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)],1)])]),s("div",{staticClass:"phone"},[s("div",{staticClass:"md-layout"},[t._m(3),s("div",{staticClass:"md-layout-item selector"},[s("md-field",[s("md-input",{attrs:{type:"text",placeholder:"+79817778394"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)])]),s("div",{staticClass:"buttons-row"},[s("md-button",{staticClass:"md-raised left",attrs:{disabled:!t.enabledAction},on:{click:function(e){return t.makeOrder()}}},[t._v("Оформить")]),s("md-button",{staticClass:"md-raised right",on:{click:function(e){return t.clear()}}},[t._v("Очистить")])],1),t.resultMessage?s("div",[t._v(t._s(t.resultMessage))]):t._e()])},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item label"},[s("div",{staticClass:"md-subtitle"},[t._v("Категория")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item label"},[s("div",{staticClass:"md-subtitle"},[t._v("Наименование")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item label"},[s("div",{staticClass:"md-subtitle"},[t._v("Количество")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout-item label"},[s("div",{staticClass:"md-subtitle"},[t._v("Телефон для связи")])])}],w={name:"Order",data:function(){return{category:null,name:null,number:0,phone:null,resultMessage:null,recipes:[],namesFilterdBy:null}},mounted:function(){var t=this;this.$store.dispatch("fetchRecipes").then(function(e){console.log("fetching recipes"),t.recipes=e}).catch(function(t){return console.log(t)})},computed:{enabledAction:function(){return null!=this.category&&null!=this.name&&""!=this.category&&""!=this.name&&this.number>0},names:function(){var t=this;return this.category?this.recipes.filter(function(e){return e.category==t.category}).map(function(t){return t.name}):[]}},methods:{clear:function(){this.category=null,this.name=null,this.number=0,this.phone=null},categorySelected:function(){this.category&&this.namesFilterdBy!=this.category&&(this.namesFilterdBy=this.category,this.name=null,this.$forceUpdate())},makeOrder:function(){var t=this;if(this.resultMessage=null,this.category||this.name)if(this.number<=0)this.resultMessage="Количестов должно быть больше 0";else{var e={category:this.category,name:this.name,quantity:this.number};this.$store.dispatch("addOrder",e).then(function(){t.resultMessage="Заказ оформлен успешно",t.clear()}).catch(function(e){t.resultMessage="Ошибка",console.log(e)})}else this.resultMessage="Укажите категорию и наименование зелья"}}},E=w,O=Object(h["a"])(E,k,x,!1,null,null,null),$=O.exports,M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"report-container"},[s("md-tabs",[s("md-tab",{attrs:{id:"tab-base","md-label":"Общий",exact:""}},[s("BaseReport")],1),s("md-tab",{attrs:{id:"tab-consumptions","md-label":"Расходы"}},[t._v("\n            Расходы\n        ")]),s("md-tab",{attrs:{id:"tab-workload","md-label":"Загруженность"}},[t._v("\n            Загруженность\n        ")]),s("md-tab",{attrs:{id:"tab-kpi","md-label":"KPI"}},[t._v("\n            KPI\n        ")])],1)],1)},R=[],z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-table",{staticClass:"main-table",attrs:{"md-card":""},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var a=e.item;return s("md-table-row",{},[s("md-table-cell",{attrs:{"md-label":"Параметр"}},[t._v(t._s(a.name))]),s("md-table-cell",{attrs:{"md-label":"Значение"}},[t._v(t._s(a.value))])],1)}}]),model:{value:t.reportData,callback:function(e){t.reportData=e},expression:"reportData"}},[s("md-table-toolbar",[s("h1",{staticClass:"md-title"},[t._v("Общие данные")])])],1),s("h1",{staticClass:"md-title"},[t._v("Графики изменения показателей")]),s("div",{staticClass:"charts"},[s("div",{staticClass:"employees-chart report-chart"},[s("line-chart",{attrs:{"chart-data":t.employeesChartData}})],1),s("div",{staticClass:"runes-chart report-chart"},[s("line-chart",{attrs:{"chart-data":t.runesChartData}})],1)])],1)},S=[],P=s("1fca"),A=P["b"].reactiveProp,D={extends:P["a"],mixins:[A],props:["options"],mounted:function(){this.renderChart(this.chartData,this.options)}},B={name:"BaseReport",components:{LineChart:D},mounted:function(){this.renderCharts()},data:function(){return{months:["Январь","Февраль","Март","Апрель","Май"],employeesChartData:null,runesChartData:null,reportData:[{name:"Всего сотрудников",value:5},{name:"Всего видов зелий",value:5},{name:"Всего видов трав",value:5},{name:"Всего видов животных",value:14},{name:"Всего видов рун",value:3}]}},methods:{renderCharts:function(){this.renderEmployeesChart(),this.renderRunesChart()},renderEmployeesChart:function(){this.employeesChartData={labels:this.months,datasets:[{label:"Количество сотрудников",backgroundColor:"#0f52bf",data:[1,2,3,3,5]}]}},renderRunesChart:function(){this.runesChartData={labels:this.months,datasets:[{label:"Количество видов рун",backgroundColor:"#95a014",data:[1,3,10,7,3]}]}}}},G=B,T=(s("a2ab"),Object(h["a"])(G,z,S,!1,null,null,null)),q=T.exports,N={name:"Report",components:{BaseReport:q}},L=N,U=Object(h["a"])(L,M,R,!1,null,null,null),F=U.exports,I={name:"Home",components:{Receipts:b,Consumption:C,Order:$,Report:F},data:function(){return{img:o.a}},computed:{userName:function(){return this.$store.state.user.name}}},H=I,J=(s("345b"),Object(h["a"])(H,i,c,!1,null,"dacdffbe",null)),K=J.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form"},[s("h1",{staticClass:"md-title"},[t._v("Вход")]),s("md-field",{attrs:{"md-clearable":""}},[s("label",[t._v("Логин")]),s("md-input",{model:{value:t.login,callback:function(e){t.login=e},expression:"login"}})],1),s("md-field",{attrs:{"md-clearable":""}},[s("label",[t._v("Пароль")]),s("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("div",{staticClass:"buttons-row"},[s("md-button",{staticClass:"md-raised left",on:{click:function(e){return t.auth()}}},[t._v("Войти")]),s("md-button",{staticClass:"right"},[t._v("Забыли пароль?")])],1),t.error?s("div",[s("p",[t._v(t._s(t.error))])]):t._e()],1)},W=[],Q={name:"Authorization",data:function(){return{login:null,password:null,error:""}},methods:{auth:function(){var t=this;this.error=null,this.login?this.password?this.$store.dispatch("auth",{username:this.login,password:this.password}).then(function(e){return t.processAuth(e.user)}).catch(function(e){t.error="Пользователь или пароль неверные"}):this.error="Заполните поле Пароль":this.error="Заполните поле Логин"},processAuth:function(t){switch(console.log(t),t.roles[0]){case"EMPLOYEE":this.$router.push("/home/receips");break;case"MANAGER":this.$router.push("/managing/report");break;case"CLIENT":this.$router.push("/client/order");break}}}},V=Q,X=(s("54cb"),Object(h["a"])(V,Y,W,!1,null,null,null)),Z=X.exports,tt={name:"app",components:{Home:K,Authorization:Z}},et=tt,st=Object(h["a"])(et,n,r,!1,null,null,null),at=st.exports,nt=s("8c4f"),rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-list",[s("BaseMenu"),s("md-divider"),s("md-list-item",{attrs:{to:"/home/consumption"}},[s("md-icon",[t._v("arrow_downward")]),s("span",{staticClass:"md-list-item-text"},[t._v("Расход")])],1),s("md-list-item",[s("md-icon",[t._v("local_drink")]),s("span",{staticClass:"md-list-item-text"},[t._v("Зелья")])],1),s("md-list-item",[s("md-icon",[t._v("shopping_cart")]),s("span",{staticClass:"md-list-item-text"},[t._v("Заказы")])],1)],1)],1)},it=[],ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-list-item",{attrs:{to:t.basePath+"receips"}},[s("md-icon",[t._v("receipt")]),s("span",{staticClass:"md-list-item-text"},[t._v("Рецепты")])],1),s("md-list-item",{attrs:{to:t.basePath+"grass"}},[s("md-icon",[t._v("spa")]),s("span",{staticClass:"md-list-item-text"},[t._v("Травы")])],1),s("md-list-item",[s("md-icon",[t._v("adb")]),s("span",{staticClass:"md-list-item-text"},[t._v("Животные")])],1),s("md-list-item",[s("md-icon",[t._v("photo_filter")]),s("span",{staticClass:"md-list-item-text"},[t._v("Руны")])],1)],1)},lt=[],ot={name:"BaseMenu",data:function(){return{}},computed:{basePath:function(){return"EMPLOYEE"==this.$store.state.user.role?"/home/":"/managing/"}}},ut=ot,dt=Object(h["a"])(ut,ct,lt,!1,null,null,null),mt=dt.exports,ft={name:"WorkerMenu",components:{BaseMenu:mt}},ht=ft,pt=Object(h["a"])(ht,rt,it,!1,null,null,null),bt=pt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-list",[s("md-list-item",{attrs:{to:"/client/order"}},[s("md-icon",[t._v("add_shopping_cart")]),s("span",{staticClass:"md-list-item-text"},[t._v("Оформить заказ")])],1),s("md-list-item",{attrs:{to:"/client/orders"}},[s("md-icon",[t._v("bookmarks")]),s("span",{staticClass:"md-list-item-text"},[t._v("Мои заказы")])],1)],1)],1)},gt=[],_t={name:"ClientMenu"},jt=_t,yt=Object(h["a"])(jt,vt,gt,!1,null,null,null),Ct=yt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-list",[s("BaseMenu"),s("md-divider"),s("md-list-item",{attrs:{to:"/managing/report"}},[s("md-icon",[t._v("bar_chart")]),s("span",{staticClass:"md-list-item-text"},[t._v("Отчеты")])],1),s("md-list-item",[s("md-icon",[t._v("people")]),s("span",{staticClass:"md-list-item-text"},[t._v("Сотрудники")])],1)],1)],1)},xt=[],wt={name:"ManagerMenu",components:{BaseMenu:mt}},Et=wt,Ot=Object(h["a"])(Et,kt,xt,!1,null,null,null),$t=Ot.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"resource-container"},[s("div",{staticClass:"table-container"},[s("md-table",{staticClass:"main-table",scopedSlots:t._u([{key:"md-table-row",fn:function(e){var a=e.item;return s("md-table-row",{staticClass:"md-primary"},[s("md-table-cell",{attrs:{"md-label":"Название"}},[t._v(t._s(a.name))]),s("md-table-cell",{attrs:{"md-label":"Количество"}},[t._v(t._s(a.quantity))]),s("md-table-cell",{attrs:{"md-label":"Описание"}},[t._v(t._s(a.description))])],1)}}]),model:{value:t.grass,callback:function(e){t.grass=e},expression:"grass"}})],1)])},Rt=[],zt={name:"Grass",data:function(){return{grass:[]}},mounted:function(){var t=this;this.$store.dispatch("fetchGrass").then(function(e){return t.grass=e}).catch(function(t){return console.log(t)})}},St=zt,Pt=Object(h["a"])(St,Mt,Rt,!1,null,null,null),At=Pt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-list",t._l(t.orders,function(e){return s("md-list-item",{key:e.id},[s("span",[t._v("Заказ №"+t._s(e.id))]),s("span",[t._v(t._s(e.category))]),s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.quantity)+" шт.")])])}),1)],1)},Bt=[],Gt={name:"ClientOrders",data:function(){return{orders:[]}},mounted:function(){var t=this;this.$store.dispatch("fetchOrders").then(function(e){return t.orders=e}).catch(function(t){return console.log(t)})}},Tt=Gt,qt=Object(h["a"])(Tt,Dt,Bt,!1,null,null,null),Nt=qt.exports;a["default"].use(nt["a"]);var Lt=[{path:"/home",name:"home",component:K,children:[{name:"receips",path:"/home/receips",components:{default:b,menu:bt}},{name:"receips",path:"/home/grass",components:{default:At,menu:bt}},{name:"consumption",path:"/home/consumption",components:{default:C,menu:bt}},{name:"report",path:"/managing/report",components:{default:F,menu:$t}},{name:"managin_rec",path:"/managing/receips",components:{default:b,menu:$t}},{name:"managin_grass",path:"/managing/grass",components:{default:At,menu:$t}},{name:"order",path:"/client/order",components:{default:$,menu:Ct}},{name:"order",path:"/client/orders",components:{default:Nt,menu:Ct}}]},{path:"/auth",name:"auth",component:Z}],Ut=new nt["a"]({routes:Lt}),Ft=s("2f62"),It=s("bc3a"),Ht=s.n(It),Jt={auth:function(t){return Ht.a.post("http://localhost:8080/auth/signin",t)}},Kt={getAll:function(){return Ht.a.get("http://localhost:8080/api/resources/grass")},consumptGrass:function(t){return Ht.a.put("http://localhost:8080/api/resources/grass",t)}},Yt={getAll:function(){return Ht.a.get("http://localhost:8080/api/resources/recipes")}},Wt={getAll:function(){return Ht.a.get("http://localhost:8080/api/orders")},addOrder:function(t){return Ht.a.post("http://localhost:8080/api/orders",t)}};a["default"].use(Ft["a"]);var Qt={user:{},authError:""},Vt={setUser:function(t,e){t.user=e},setAuthError:function(t,e){t.authError=e}},Xt={auth:function(t,e){e.username,e.password;return new Promise(function(s,a){Jt.auth(e).then(function(e){t.commit("setUser",e.data.user),s(e.data)}).catch(function(t){return a(t)})})},fetchRecipes:function(){return new Promise(function(t,e){Yt.getAll().then(function(e){return t(e.data)}).catch(function(t){return e(t)})})},fetchGrass:function(){return new Promise(function(t,e){Kt.getAll().then(function(e){return t(e.data)}).catch(function(t){return e(t)})})},consumptGrass:function(t,e){return new Promise(function(t,s){Kt.consumptGrass(e).then(function(e){return t(e.data)}).catch(function(t){return s(t)})})},fetchOrders:function(){return new Promise(function(t,e){Wt.getAll().then(function(e){return t(e.data)}).catch(function(t){return e(t)})})},addOrder:function(t,e){return new Promise(function(t,s){Wt.addOrder(e).then(function(e){return t(e.data)}).catch(function(t){return s(t)})})}},Zt=new Ft["a"].Store({state:Qt,mutations:Vt,actions:Xt}),te=Zt,ee=s("43f9"),se=s.n(ee);s("51de"),s("e094"),s("c789");a["default"].use(se.a),a["default"].config.productionTip=!1,new a["default"]({router:Ut,store:te,render:function(t){return t(at)}}).$mount("#app"),Ut.push("/auth")},"589a":function(t,e,s){},6378:function(t,e,s){},6564:function(t,e,s){},a2ab:function(t,e,s){"use strict";var a=s("6378"),n=s.n(a);n.a},b16d:function(t,e,s){"use strict";var a=s("cb1d"),n=s.n(a);n.a},cb1d:function(t,e,s){},f24f:function(t,e,s){}});
//# sourceMappingURL=app.bb2daab9.js.map